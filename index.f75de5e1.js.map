{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst page = document.querySelector('body');\nconst tableHead = document.querySelector('thead');\nconst tableHeadCells = tableHead.querySelectorAll('th');\nconst tableBody = document.querySelector('tbody');\n\nlet sortingIndex = null;\n\nfunction sortTable(columnIndex) {\n  let shouldSwitch = false;\n  let switching = true;\n\n  while (switching) {\n    let i = 0;\n    const rows = tableBody.rows;\n\n    switching = false;\n\n    if (sortingIndex !== columnIndex) {\n      for (i = 0; i < rows.length - 1; i++) {\n        shouldSwitch = false;\n\n        const row1 = rows[i].getElementsByTagName('td')[columnIndex];\n        const row2 = rows[i + 1].getElementsByTagName('td')[columnIndex];\n\n        if (columnIndex === 4) {\n          if (\n            +row1.innerHTML.slice(1).replaceAll(',', '') >\n            +row2.innerHTML.slice(1).replaceAll(',', '')\n          ) {\n            shouldSwitch = true;\n            break;\n          }\n        } else if (\n          row1.innerHTML.toLowerCase() > row2.innerHTML.toLowerCase()\n        ) {\n          shouldSwitch = true;\n          break;\n        }\n      }\n\n      if (shouldSwitch) {\n        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\n        switching = true;\n      }\n    } else {\n      for (i = 0; i < rows.length - 1; i++) {\n        shouldSwitch = false;\n\n        const row1 = rows[i].getElementsByTagName('td')[columnIndex];\n        const row2 = rows[i + 1].getElementsByTagName('td')[columnIndex];\n\n        if (columnIndex === 4) {\n          if (\n            +row1.innerHTML.slice(1).replaceAll(',', '') <\n            +row2.innerHTML.slice(1).replaceAll(',', '')\n          ) {\n            shouldSwitch = true;\n            break;\n          }\n        } else if (\n          row1.innerHTML.toLowerCase() < row2.innerHTML.toLowerCase()\n        ) {\n          shouldSwitch = true;\n          break;\n        }\n      }\n\n      if (shouldSwitch) {\n        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\n        switching = true;\n      }\n    }\n  }\n\n  if (sortingIndex === columnIndex) {\n    sortingIndex = null;\n  } else {\n    sortingIndex = columnIndex;\n  }\n}\n\ntableHeadCells.forEach((headItem) => {\n  headItem.addEventListener('click', (e) => {\n    switch (e.currentTarget.textContent) {\n      case 'Name':\n        sortTable(0);\n        break;\n      case 'Position':\n        sortTable(1);\n        break;\n      case 'Office':\n        sortTable(2);\n        break;\n      case 'Age':\n        sortTable(3);\n        break;\n      case 'Salary':\n        sortTable(4);\n        break;\n    }\n  });\n});\n\nconst setActiveRow = () => {\n  const tableRows = tableBody.querySelectorAll('tr');\n\n  tableRows.forEach((row) => {\n    row.addEventListener('click', (e) => {\n      const oldActive = tableBody.querySelector('.active');\n\n      if (oldActive) {\n        oldActive.classList.remove('active');\n      }\n\n      e.currentTarget.classList.add('active');\n    });\n  });\n};\n\nconst newEmployeeForm = document.createElement('form');\n\nnewEmployeeForm.setAttribute('onsubmit', `return event.preventDefault()`);\nnewEmployeeForm.classList.add('new-employee-form');\npage.append(newEmployeeForm);\n\nconst nameLabel = document.createElement('label');\nconst positionLabel = document.createElement('label');\nconst officeLabel = document.createElement('label');\nconst ageLabel = document.createElement('label');\nconst salaryLabel = document.createElement('label');\n\nnameLabel.textContent = 'Name:';\npositionLabel.textContent = 'Position:';\nofficeLabel.textContent = 'Office:';\nageLabel.textContent = 'Age:';\nsalaryLabel.textContent = 'Salary:';\n\nnewEmployeeForm.append(\n  nameLabel,\n  positionLabel,\n  officeLabel,\n  ageLabel,\n  salaryLabel,\n);\n\nconst nameInput = document.createElement('input');\nconst positionInput = document.createElement('input');\nconst officeSelect = document.createElement('select');\nconst ageInput = document.createElement('input');\nconst salaryInput = document.createElement('input');\nconst submitButton = document.createElement('button');\n\nnameInput.setAttribute('name', 'name');\nnameInput.setAttribute('type', 'text');\nnameInput.setAttribute('data-qa', 'name');\nnameLabel.append(nameInput);\n\npositionInput.setAttribute('name', 'position');\npositionInput.setAttribute('type', 'text');\npositionInput.setAttribute('data-qa', 'position');\npositionLabel.append(positionInput);\n\nconst officeOption1 = document.createElement('option');\nconst officeOption2 = document.createElement('option');\nconst officeOption3 = document.createElement('option');\nconst officeOption4 = document.createElement('option');\nconst officeOption5 = document.createElement('option');\nconst officeOption6 = document.createElement('option');\n\nofficeSelect.setAttribute('name', 'office');\nofficeSelect.setAttribute('data-qa', 'office');\nofficeSelect.required = true;\nofficeOption1.value = 'Edinburgh';\nofficeOption1.textContent = 'Edinburgh';\nofficeOption2.value = 'London';\nofficeOption2.textContent = 'London';\nofficeOption3.value = 'New York';\nofficeOption3.textContent = 'New York';\nofficeOption4.value = 'San Francisco';\nofficeOption4.textContent = 'San Francisco';\nofficeOption5.value = 'Singapore';\nofficeOption5.textContent = 'Singapore';\nofficeOption6.value = 'Tokyo';\nofficeOption6.textContent = 'Tokyo';\n\nofficeSelect.append(\n  officeOption1,\n  officeOption2,\n  officeOption3,\n  officeOption4,\n  officeOption5,\n  officeOption6,\n);\n\nofficeLabel.append(officeSelect);\n\nageInput.setAttribute('name', 'age');\nageInput.setAttribute('type', 'number');\nageInput.setAttribute('data-qa', 'age');\nageLabel.append(ageInput);\n\nsalaryInput.setAttribute('name', 'salary');\nsalaryInput.setAttribute('type', 'number');\nsalaryInput.setAttribute('data-qa', 'salary');\nsalaryLabel.append(salaryInput);\n\nsubmitButton.type = 'submit';\nsubmitButton.textContent = 'Save to table';\nnewEmployeeForm.append(submitButton);\n\nfunction showNotification(text, type) {\n  const notification = document.createElement('div');\n  const notificationMessage = document.createElement('span');\n\n  notificationMessage.setAttribute('class', 'title');\n  notification.setAttribute('class', 'notification');\n  notification.setAttribute('data-qa', 'notification');\n  notification.style.display = 'flex';\n  notification.style.justifyContent = 'center';\n  notification.style.alignItems = 'center';\n  notification.style.textAlign = 'center';\n  notificationMessage.textContent = text;\n\n  if (type === 'error') {\n    notification.classList.add('error');\n  } else {\n    notification.classList.add('success');\n  }\n\n  notification.append(notificationMessage);\n  page.append(notification);\n\n  setTimeout(() => notification.remove(), 5000);\n}\n\nsubmitButton.addEventListener('click', () => addNewEmployee());\n\nconst setEditableCells = () => {\n  const editableCells = tableBody.querySelectorAll('td');\n\n  editableCells.forEach((cell) => {\n    cell.addEventListener('dblclick', () => {\n      const oldValue = cell.textContent;\n      const valueInput = document.createElement('input');\n\n      cell.childNodes[0].remove();\n      cell.prepend(valueInput);\n      valueInput.setAttribute('class', 'cell-input');\n      valueInput.focus();\n\n      valueInput.onblur = () => {\n        if (!valueInput.value) {\n          valueInput.remove();\n\n          cell.textContent = oldValue;\n        } else {\n          cell.textContent = valueInput.value;\n\n          valueInput.remove();\n        }\n      };\n\n      valueInput.onkeydown = (e) => {\n        if (e.key === 'Enter') {\n          if (!valueInput.value) {\n            valueInput.remove();\n\n            cell.textContent = oldValue;\n          } else {\n            cell.textContent = valueInput.value;\n\n            valueInput.remove();\n          }\n        }\n      };\n    });\n  });\n};\n\nfunction addNewEmployee() {\n  const warning = [];\n\n  if (nameInput.value.length < 4) {\n    warning.push('Name should be at least 4 symbols length.');\n  }\n\n  if (!positionInput.value) {\n    warning.push('Position field should be filled.');\n  }\n\n  if (!salaryInput.value) {\n    warning.push('Salary field should be filled.');\n  }\n\n  if (+salaryInput.value < 0) {\n    warning.push('Salary field should be with a positive number.');\n  }\n\n  if (+ageInput.value < 18 || +ageInput.value > 90) {\n    warning.push('Age should be between 18 and 90 y.o.');\n  }\n\n  if (warning.length > 0) {\n    return showNotification(warning.join('\\n'), 'error');\n  }\n\n  const newRow = document.createElement('tr');\n  const newName = document.createElement('td');\n  const newPosition = document.createElement('td');\n  const newOffice = document.createElement('td');\n  const newAge = document.createElement('td');\n  const newSalary = document.createElement('td');\n\n  newName.textContent = nameInput.value;\n  newPosition.textContent = positionInput.value;\n  newOffice.textContent = officeSelect.value;\n  newAge.textContent = ageInput.value;\n  newSalary.textContent = '$' + (+salaryInput.value).toLocaleString('en-US');\n\n  newRow.append(newName, newPosition, newOffice, newAge, newSalary);\n  tableBody.append(newRow);\n\n  nameInput.value = '';\n  positionInput.value = '';\n  officeSelect.value = officeOption1.value;\n  ageInput.value = '';\n  salaryInput.value = '';\n\n  setEditableCells();\n  setActiveRow();\n\n  return showNotification('Employee successfully added.', 'success');\n}\n\nsetActiveRow();\nsetEditableCells();\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}